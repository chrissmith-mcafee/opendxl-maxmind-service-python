{
  "openDxlApi": "0.1",
  "info": {
    "title": "MaxMind Geolocation DXL Service",
    "version": "0.1.0",
    "description": "The MaxMind DXL Python service exposes Host/IP Geolocation lookups in a MaxMind <a href='http://dev.maxmind.com/geoip/geoip2/geolite2/'>GeoLite2</a> or <a href='https://www.maxmind.com/en/geoip2-databases'>GeoIP2</a> database via the  <a href='http://www.mcafee.com/us/solutions/data-exchange-layer.aspx'>Data Exchange Layer</a> (DXL) fabric.",
    "contact": {
      "name": "OpenDXL",
      "url": "https://www.opendxl.com"
    }
  },

  "solutions": {
    "MaxMind Geolocation DXL Service": {
      "info": {
        "title": "MaxMind Geolocation DXL Service",
        "version": "0.2.0",
        "description": "The MaxMind DXL Service."
      },
      "externalDocs": {
        "description": "MaxMind Developer Documentation",
        "url": "https://dev.maxmind.com/"
      },
      "services": [
        { "$ref": "#/services/MaxMind Geolocation DXL Service" }
      ],
      "events": []
    }
  },


  "services": {
    "MaxMind Geolocation DXL Service": {
      "info": {
        "title": "MaxMind Geolocation DXL Service",
        "version": "0.2.0",
        "description": "The MaxMind DXL Python service exposes Host/IP Geolocation lookups in a MaxMind <a href='http://dev.maxmind.com/geoip/geoip2/geolite2/'>GeoLite2</a> or <a href='https://www.maxmind.com/en/geoip2-databases'>GeoIP2</a> database via the  <a href='http://www.mcafee.com/us/solutions/data-exchange-layer.aspx'>Data Exchange Layer</a> (DXL) fabric."
      },
      "externalDocs": {
        "description": "MaxMind DXL Python Service (GitHub)",
        "url": "https://github.com/opendxl/opendxl-maxmind-service-python"
      },
      "requests": [
        { "$ref": "#/requests/~1opendxl-maxmind~1service~1geolocation~1host_lookup" }
      ]
    }
  },


  "events":{},


  "requests": {
    "/opendxl-maxmind/service/geolocation/host_lookup": {
      "description": "Invokes a MaxMind Host/IP geolocation lookup and returns the results.",
      "payload": {
        "properties": {
          "host": {
            "description": "Hostname or IP address for which to retrieve Geolocation information.",
            "type": "string"
          }
        },
        "required": [
          "host"
        ],
        "example": {
          "host": "8.8.8.8"
        }
      },
      "response": {
        "description": "A JSON structure representing the Geolocation information for the specified host/IP. See the <a href='https://maxminddb.readthedocs.io/en/latest/'>MaxMind DB Python Module</a> for more information.",
        "example": {
          "continent": {
            "code": "NA",
            "geoname_id": 6255149,
            "names": {
              "de": "Nordamerika",
              "en": "North America",
              "es": "Norteam\u00e9rica",
              "fr": "Am\u00e9rique du Nord",
              "ja": "\u5317\u30a2\u30e1\u30ea\u30ab",
              "pt-BR": "Am\u00e9rica do Norte",
              "ru": "\u0421\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430",
              "zh-CN": "\u5317\u7f8e\u6d32"
            }
          },
          "country": {
            "geoname_id": 6252001,
            "iso_code": "US",
            "names": {
              "de": "USA",
              "en": "United States",
              "es": "Estados Unidos",
              "fr": "\u00c9tats-Unis",
              "ja": "\u30a2\u30e1\u30ea\u30ab\u5408\u8846\u56fd",
              "pt-BR": "Estados Unidos",
              "ru": "\u0421\u0428\u0410",
              "zh-CN": "\u7f8e\u56fd"
            }
          },
          "location": {
            "accuracy_radius": 1000,
            "latitude": 37.751,
            "longitude": -97.822
          },
          "registered_country": {
            "geoname_id": 6252001,
            "iso_code": "US",
            "names": {
              "de": "USA",
              "en": "United States",
              "es": "Estados Unidos",
              "fr": "\u00c9tats-Unis",
              "ja": "\u30a2\u30e1\u30ea\u30ab\u5408\u8846\u56fd",
              "pt-BR": "Estados Unidos",
              "ru": "\u0421\u0428\u0410",
              "zh-CN": "\u7f8e\u56fd"
            }
          }
        }
      },
      "errorResponses": {
        "Service Error": {
          "payload": {
            "$ref": "#/definitions/Error Response Object"
          }
        }
      }
    }
  },


  "definitions": {
    "0": {
      "properties": {
        "errorMessage": {
          "description": "Message string containing error information.",
          "type": "string"
        }
      },
      "example": "Error invoking service with topic '/opendxl-maxmind/service/geolocation/host_lookup': argument 1 must be string, not int"
    }
  }
}
